# ğŸ›¡ï¸ SuspiciousLinkRadar (SLR) â€” ÅÃ¼pheli URL Tespit Sistemi

Versiyon: 1.0.0  
Durum: GeliÅŸtirme AÅŸamasÄ±nda (Local Deployment)

SuspiciousLinkRadar (SLR), girilen URLâ€™leri analiz ederek siber gÃ¼venlik risklerini (Phishing, Malware, Defacement) tespit eden, makine Ã¶ÄŸrenmesi tabanlÄ± bir web uygulamasÄ±dÄ±r. Sistem, URLâ€™den Ã§Ä±karÄ±lan sÃ¶zel (lexical), host/protokol ve anahtar kelime tabanlÄ± Ã¶zellikleri kullanarak sÄ±nÄ±flandÄ±rma yapar ve sonuÃ§larÄ± kullanÄ±cÄ±ya net risk durumlarÄ±yla sunar.

## ğŸ¯ AmaÃ§ ve Temel Hedefler
- Oltalama ve zararlÄ± yazÄ±lÄ±m iÃ§eren site eriÅŸimlerini son kullanÄ±cÄ± dÃ¼zeyinde proaktif engellemek.
- URL analizi sÃ¼reÃ§lerini otomatikleÅŸtirerek farkÄ±ndalÄ±k ve gÃ¼venlik hijyenini artÄ±rmak.
- YÃ¼ksek doÄŸruluk ve dÃ¼ÅŸÃ¼k gecikme ile tamamen yerel (offline) Ã§alÄ±ÅŸabilen hafif bir Ã§Ã¶zÃ¼m sunmak.

## âœ¨ Ã–ne Ã‡Ä±kan Ã–zellikler
- Ã‡ok sÄ±nÄ±flÄ± sÄ±nÄ±flandÄ±rma: Benign, Defacement, Phishing, Malware
- Ã–zellik Ã§Ä±karÄ±mÄ±: Lexical + Host/Protocol + Anahtar Kelime bayraklarÄ±
- HÄ±zlÄ± Ã§Ä±karÄ±m (low-latency) ve tek-binary Model + Feature config sÃ¼rÃ¼mleme
- Net risk durumlarÄ± ve eriÅŸilebilir arayÃ¼z (kontrast ve ikon/metin beraber)
- FastAPI tabanlÄ± backend ve aÃ§Ä±k JSON API sÃ¶zleÅŸmesi

---

## ğŸ“Š Veri Seti ve Analiz

Kaynaklar (Ã¶rnek): ISCX-URL-2016, PhishTank, MalwareDomainList/BlackList vb.  
Toplam Ã¶rnek (Ã¶r.): 651,191 URL

SÄ±nÄ±f daÄŸÄ±lÄ±mÄ± (Ã¶rnek):
- Benign: ~65.7%
- Defacement: ~14.8%
- Phishing: ~14.5%
- Malware: ~5.0%

Dikkat edilmesi gerekenler:
- SÄ±nÄ±f dengesizliÄŸi: `class_weight="balanced"` veya yalnÄ±zca train set Ã¼zerinde SMOTE.
- SÄ±zÄ±ntÄ± Ã¶nleme: Domain/grup tabanlÄ± bÃ¶lme (aynÄ± domain train/testâ€™e daÄŸÄ±lmasÄ±n), URL normalizasyonu ve deduplikasyon.
- BÃ¶lme: Stratified + GroupKFold (domain) Ã¶nerilir.

Veri lisanslarÄ± ve kullanÄ±m ÅŸartlarÄ± kaynak bazÄ±nda kontrol edilmelidir.

---

## ğŸ§© Ã–zellik MÃ¼hendisliÄŸi (Feature Engineering)

Lexical:
- Uzunluklar: URL/host/path/query uzunluklarÄ±
- Karakter istatistikleri: `.` `-` `_` `@` `/` `?` `=` sayÄ±/oranlarÄ±
- Rakam/harf oranÄ±, Shannon entropy, TLD uzunluÄŸu
- Ã‡oklu `//`, aÅŸÄ±rÄ± uzun query, parametre sayÄ±sÄ±

Host/Protokol:
- HTTPS kullanÄ±mÄ±, Ã¶zel port varlÄ±ÄŸÄ±
- IP literal kullanÄ±mÄ± (hostâ€™un IP olmasÄ±)
- Alt domain sayÄ±sÄ± (derinlik), TLD ÅŸÃ¼pheliliÄŸi
- `@` sembolÃ¼ varlÄ±ÄŸÄ± (kimlik gizleme giriÅŸimleri)

Anahtar Kelimeler:
- `login`, `secure`, `verify`, `update`, `bank`, `free`, `offer`, `click`, `confirm`, `signin` vb.

Notlar:
- AÄŸaÃ§ tabanlÄ± modeller iÃ§in zorunlu Ã¶lÃ§ekleme yoktur; ancak Ã¶zellik sÃ¶zlÃ¼ÄŸÃ¼/sÃ¼rÃ¼mÃ¼nÃ¼ `feature_config.json` ile sabitlemek Ã¶nerilir.

---

## ğŸ¤– Modelleme ve DeÄŸerlendirme

Model seÃ§enekleri:
- Baseline: Logistic Regression
- GÃ¼Ã§lÃ¼ alternatifler: Random Forest, LightGBM, XGBoost (Ã¶neri: LightGBM)

DoÄŸrulama:
- Stratified 5-Fold CV (mÃ¼mkÃ¼nse domain GroupKFold)
- Metrikler: Macro-F1 (Ã¶ncelikli), sÄ±nÄ±f bazlÄ± F1, ROC-AUC ve PR-AUC
- Kalibrasyon: Platt veya Isotonic (olasÄ±lÄ±k gÃ¼venilirliÄŸi iÃ§in)

Model artefaktlarÄ±:
- `models/model_v1.0.pkl`
- `models/feature_config_v1.0.pkl`
- `models/label_map_v1.0.json`

AÃ§Ä±klanabilirlik:
- Global feature importance + Ã¶rnek bazlÄ± SHAP aÃ§Ä±klamalarÄ± (opsiyonel, analiz modunda)

---

## ğŸš¦ Risk EÅŸikleri ve UI DavranÄ±ÅŸÄ±

SÄ±nÄ±f kararÄ± + olasÄ±lÄ±k ile risk seviyesi birlikte deÄŸerlendirilir:

- ğŸŸ¢ GÃ¼venli (Benign): sÄ±nÄ±f=Benign ve p â‰¥ 0.80
  - DavranÄ±ÅŸ: Link aktif; bilgi mesajÄ±
- ğŸŸ¡ Tahrifat (Defacement): sÄ±nÄ±f=Defacement ve p â‰¥ 0.80
  - DavranÄ±ÅŸ: UyarÄ± mesajÄ±; giriÅŸ yapmama Ã¶nerisi
- ğŸŸ  Oltalama (Phishing): sÄ±nÄ±f=Phishing ve p â‰¥ 0.80
  - DavranÄ±ÅŸ: Link gizle/pasifleÅŸtir; gÃ¼Ã§lÃ¼ uyarÄ±
- ğŸ”´ ZararlÄ± YazÄ±lÄ±m (Malware): sÄ±nÄ±f=Malware ve p â‰¥ 0.80
  - DavranÄ±ÅŸ: EriÅŸim Ã¶nerilmez; kritik uyarÄ±

Belirsiz bÃ¶lge:
- 0.50 â‰¤ p < 0.80 â†’ â€œDikkatâ€ bandÄ±; link varsayÄ±lan kapalÄ± olabilir
- p < 0.50 â†’ â€œKararsÄ±zâ€ mesajÄ±; manuel doÄŸrulama Ã¶ner

EÅŸikler, iÅŸletim senaryonuza gÃ¶re ROC/PR eÄŸrilerine bakÄ±larak ayarlanmalÄ±dÄ±r.

---

## ğŸ§ª API (FastAPI) SÃ¶zleÅŸmesi

Endpoint: `POST /predict`  
Ä°stek:
```json
{
  "url": "https://example.com/login?ref=mail"
}